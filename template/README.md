## __APP_NAME__

FastAPI project generated by fastapi_starter.

### Run locally

```bash
poetry install
poetry run uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

### Start local MySQL/Redis (optional)

```bash
# from template-generated project
cd docker
./start_infra.sh            # start mysql & redis
# later:
./stop_infra.sh             # stop (keep volumes)
./stop_infra.sh --purge     # stop and remove volumes
```

Initialize multiple MySQL users/databases

- Put SQL files in `docker/mysql-init/` (already contains `00-init.sql` examples). They run once on first init.
- If you already initialized once, purge volumes to re-run init:
  ```bash
  cd docker
  ./stop_infra.sh --purge
  ./start_infra.sh
  ```

### Environment

Copy `.env.example` to `.env` and adjust if needed.

### Database migrations (Alembic)

```bash
alembic ensure_version
alembic revision --autogenerate -m "changes"
alembic upgrade head
```

### Celery worker

```bash
poetry run celery -A app.tasks.celery:celery_app worker --loglevel=INFO
```

### Docker (dev)

```bash
cd docker
./start_services.sh
# visit: http://localhost:8000/docs
./stop_services.sh

# recompile
docker compose build --no-cache

# look log
docker-compose logs -f
```


